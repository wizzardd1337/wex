-- === НАСТРОЙКИ ===

-- Вставь сюда ключ (в executor перед запуском скрипта)
local userKey = "KEY123"  -- <<<<< ВСТАВЬ СЮДА КЛЮЧ

-- Таблица ключей и их время действия в минутах
local keys = {
    ["0090"] = 1,
    ["KEY456"] = 1440,
}

-- === СКРИПТ ===

local player = game:GetService("Players").LocalPlayer
local currentTime = os.time()

-- Создаём Value для хранения времени активации ключа (один раз за сессию)
local container = player:FindFirstChild("ActivationStorage")
if not container then
    container = Instance.new("Folder")
    container.Name = "ActivationStorage"
    container.Parent = player
end

local function getOrCreateActivationValue(key)
    local value = container:FindFirstChild(key)
    if not value then
        value = Instance.new("IntValue")
        value.Name = key
        value.Value = 0
        value.Parent = container
    end
    return value
end

local function isKeyValid(key)
    local validMinutes = keys[key]
    if not validMinutes then
        return false, "Licence not found"
    end

    local activationValue = getOrCreateActivationValue(key)
    if activationValue.Value == 0 then
        activationValue.Value = currentTime
    end

    local elapsed = math.floor((currentTime - activationValue.Value) / 60)

    if elapsed > validMinutes then
        return false, "Срок действия ключа истёк"
    end

    return true, validMinutes - elapsed
end

-- Проверка и выполнение
local success, info = isKeyValid(userKey)
if success then
    print("Licence Activated, Minutes Left: " .. info)
    loadstring(game:HttpGet("https://raw.githubusercontent.com/wizzardd1337/adminguii/main/admingui", true))()
else
    warn("Error: " .. info)
end
